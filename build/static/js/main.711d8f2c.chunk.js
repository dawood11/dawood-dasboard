(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(38)},32:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),c=n(19),u=n.n(c),o=(n(32),n(0)),s=n.n(o),i=n(1),l=n(10),p=(n(36),n(17)),d=n(20);Object(d.a)({apiKey:"AIzaSyAFCwlk9IPhBaa-iA36NM_nkgDS7T8sD44",authDomain:"dawood-dashboard.firebaseapp.com",projectId:"dawood-dashboard",storageBucket:"dawood-dashboard.appspot.com",messagingSenderId:"680565836471",appId:"1:680565836471:web:29d5ecb44e986bb2495b32"});var f=Object(p.b)(),b=(Object(p.c)(f,function(e){return e||null}),function(){var e=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(f,new p.a).then(function(e){return e.user}).catch(function(e){return console.log(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),m=function(){var e=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.e)(f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=n(21),h=function(){var e=Object(i.a)(s.a.mark(function e(t,n){var r,a,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(c.length>2&&void 0!==c[2])||c[2],a=JSON.stringify(n.body),!1===r&&(a=n.body),e.next=5,y(t,Object(v.a)({},n,{method:"POST",body:a}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(s.a.mark(function e(t,n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),w="",k=void 0,x="https://px1.tuyaus.com/homeassistant/auth.do",O="https://px1.tuyaeu.com/homeassistant/skill",g=function(){var e=Object(i.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(x,{body:new URLSearchParams({userName:"dawood11@hotmail.com",password:"rey619hey",countryCode:"47",bizType:"smart_life",from:"tuya"})},!1);case 2:if(void 0===(t=e.sent).access_token){e.next=11;break}return w=t.access_token,localStorage.setItem("key",w),e.next=8,S(w);case 8:return e.abrupt("return",e.sent);case 11:return w=localStorage.getItem("key"),e.next=14,S(w);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(O,{body:{header:{name:"Discovery",namespace:"discovery",payloadVersion:1},payload:{accessToken:t}}});case 2:return"FrequentlyInvoke"!==(k=e.sent).header.code&&"DependentServiceUnavailable"!==k.header.code?localStorage.setItem("devices",JSON.stringify(k)):k=JSON.parse(localStorage.getItem("devices")),e.abrupt("return",k);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(O,{body:{header:{name:"turnOnOff",namespace:"control",payloadVersion:1},payload:{value:!1===n?1:0,accessToken:w,devId:t}}});case 2:if("SUCCESS"===e.sent.header.code){e.next=8;break}return console.log("FAILED TRIGGER"),e.abrupt("return",n);case 8:r=k.payload.devices.findIndex(function(e){return e.id===t}),k.payload.devices[r].data.state=!n,localStorage.setItem("devices",JSON.stringify(k));case 11:return e.abrupt("return",!n);case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){var t=e.device,n=Object(r.useState)(t.data.state),c=Object(l.a)(n,2),u=c[0],o=c[1],p=function(){var e=Object(i.a)(s.a.mark(function e(){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.id,u);case 2:return n=e.sent,e.next=5,o(n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("li",{id:t.id},t.name,",",!0===t.data.online?!0===u?a.a.createElement("span",{style:{color:"green"}},"P\xe5"):a.a.createElement("span",{style:{color:"red"}},"Av"):a.a.createElement("span",{style:{color:"red"}},"Offline"),a.a.createElement("button",{id:t.id+"-btn",onClick:p},"Trigger"))},I=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],u=Object(r.useState)("Login"),o=Object(l.a)(u,2),p=o[0],d=o[1],f=Object(r.useState)(null),v=Object(l.a)(f,2),h=v[0],y=v[1],w=function(){var e=Object(i.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=7;break}return e.next=3,b();case 3:(t=e.sent)&&(c(t.displayName),d("Logout")),e.next=11;break;case 7:return e.next=9,m();case 9:c(null),d("Login");case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:null!==(t=e.sent).payload.devices&&y(t.payload.devices);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"App"},"TEST2333 - ",n,a.a.createElement("button",{onClick:w},p),n?a.a.createElement("div",null,a.a.createElement("h1",null,"get Tuya"),a.a.createElement("button",{onClick:k},"get Tuya data"),a.a.createElement("h3",null,"Switcher"),a.a.createElement("ul",null,null===h?null:h.map(function(e){return"switch"===e.dev_type?a.a.createElement(E,{key:e.id,device:e}):null})),a.a.createElement("h3",null,"Scener"),a.a.createElement("ul",null,null===h?null:h.map(function(e){return"scene"===e.dev_type?a.a.createElement(E,{key:e.id,device:e}):null}))):null)},T=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,39)).then(function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)})};u.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null))),T()}},[[23,3,2]]]);
//# sourceMappingURL=main.711d8f2c.chunk.js.map